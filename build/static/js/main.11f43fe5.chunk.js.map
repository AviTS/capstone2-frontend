{"version":3,"sources":["api.js","common/Alert.js","auth/LoginForm.js","auth/SignupForm.js","auth/UserContext.js","libraries/LibraryForm.js","books/AddBook.js","books/Book.js","libraries/Rating.js","libraries/Library.js","libraries/LibraryList.js","Homepage.js","common/SearchForm.js","books/BookList.js","routes-nav/NavRoutes.js","hooks/useLocalStorage.js","routes-nav/Navigation.js","App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","process","REACT_APP_BASE_URL","BookAppApi","endpoint","data","method","console","debug","url","headers","Authorization","token","params","axios","error","response","message","Array","isArray","volId","this","request","res","log","searchTerm","library_id","username","user","Alert","type","messages","className","role","map","LoginForm","login","navigate","useNavigate","useState","password","formData","setFormData","formErrors","setFormErrors","handleSubmit","evt","preventDefault","result","success","errors","handleChange","target","name","value","l","onSubmit","onChange","autoComplete","required","length","SignupForm","signup","UserContext","React","createContext","LibraryForm","library_name","library_desc","createLibrary","AddBook","book_id","libraries","setLibraries","currentUser","useContext","id","title","form","updateForm","useEffect","getLibraries","user_id","libsList","i","libObj","push","e","persist","f","libId","addBooktoLib","Book","useParams","book","setBook","getBook","bookArr","bookAuthors","splitAuthorStr","author","replace","split","bookObj","genre","desc","book_description","img","cover_img","extId","external_book_id","a","Rating","currRating","rating","setRating","r","bookRating","updateBookRating","star","index","onClick","Library","books","setBooks","getBooksFromLib","booksList","bookId","bookTitle","bookAuthor","extBookId","user_rating","b","to","LibraryList","Homepage","SearchForm","searchFor","setSearchTerm","trim","undefined","placeholder","BookList","search","searchStr","getBookList","bookInfo","results","book_title","NavRoutes","exact","path","element","useLocalStorage","key","firstValue","initialValue","localStorage","getItem","item","setItem","removeItem","Navigation","logout","App","infoLoaded","setInfoLoaded","setCurrentUser","setToken","signupData","loginData","jwt","decode","getCurrentUser","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.11f43fe5.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || 'http://localhost:3001';\n\nclass BookAppApi {\n  static token;\n\n  static async request(endpoint, data = {}, method = 'get') {\n    console.debug('API Call:', endpoint, data, method);\n\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = { Authorization: `Bearer ${BookAppApi.token}` };\n    let params;\n    if (method === 'get') {\n      params = data;\n    } else {\n      params = {};\n    }\n\n    try {\n      return (await axios({ url, method, data, params, headers })).data;\n    } catch (err) {\n      console.error('API Error:', err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  static async getBook(volId) {\n    let res = await this.request(volId);\n    console.log(res);\n    return res;\n  }\n\n  static async getBookList(searchTerm) {\n    let res = await this.request(`search/q=${searchTerm}`);\n    return res;\n  }\n\n  static async createLibrary(data) {\n    let res = await this.request(`library/`, data, 'post');\n    return res;\n  }\n\n  static async getLibraries() {\n    let res = await this.request(`library/getLibraries`);\n    return res;\n  }\n\n  static async addBooktoLib(library_id, data) {\n    let res = await this.request(`library/${library_id}/books`, data, 'post');\n    return res;\n  }\n\n  static async getBooksFromLib(library_id) {\n    let res = await this.request(`library/${library_id}`);\n    return res;\n  }\n\n  //need to implement below func\n  static async delBookfromLib() {\n    let res = await this.request(`library/`, 'delete');\n    return res;\n  }\n\n  static async updateBookRating(data) {\n    let res = await this.request(`library/rating`, data, 'patch');\n    return res;\n  }\n\n  //need to implement below func\n  // static async updateBookNote() {\n  //   let res = await this.request(`library/notes`, 'patch');\n  //   return res;\n  // }\n\n  //login and signup routes\n  static async getCurrentUser(username) {\n    let res = await this.request(`users/${username}`);\n    return res.user;\n  }\n\n  static async login(data) {\n    let res = await this.request(`auth/token`, data, 'post');\n    return res.token;\n  }\n\n  static async signup(data) {\n    let res = await this.request(`auth/register`, data, 'post');\n    return res.token;\n  }\n}\n\nexport default BookAppApi;\n","import React from 'react';\n\n/** Presentational component for showing bootstrap-style alerts.\n **/\n\nfunction Alert({ type = 'danger', messages = [] }) {\n  console.debug('Alert', 'type=', type, 'messages=', messages);\n\n  return (\n    <div className={`alert alert-${type}`} role=\"alert\">\n      {messages.map((error) => (\n        <p className=\"mb-0 small\" key={error}>\n          {error}\n        </p>\n      ))}\n    </div>\n  );\n}\n\nexport default Alert;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Alert from '../common/Alert';\n\n//Login form\n\nfunction LoginForm({ login }) {\n  let navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n    'LoginForm',\n    'login=',\n    typeof login,\n    'formData=',\n    formData,\n    'formErrors',\n    formErrors\n  );\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await login(formData);\n    if (result.success) {\n      navigate('/libraries');\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData((l) => ({ ...l, [name]: value }));\n  }\n\n  return (\n    <div className=\"LoginForm\">\n      <h3 className=\"mb-3\">Log In</h3>\n\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label>Username</label>\n              <input\n                name=\"username\"\n                className=\"form-control\"\n                value={formData.username}\n                onChange={handleChange}\n                autoComplete=\"username\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className=\"form-control\"\n                value={formData.password}\n                onChange={handleChange}\n                autoComplete=\"current-password\"\n                required\n              />\n            </div>\n\n            {formErrors.length ? (\n              <Alert type=\"danger\" messages={formErrors} />\n            ) : null}\n\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              onSubmit={handleSubmit}\n            >\n              Login\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Alert from '../common/Alert';\n\n//signup form\n\nfunction SignupForm({ signup }) {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n    'SignupForm',\n    'signup=',\n    typeof signup,\n    'formData=',\n    formData,\n    'formErrors=',\n    formErrors\n  );\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await signup(formData);\n    if (result.success) {\n      navigate('/getbooklist');\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData((data) => ({ ...data, [name]: value }));\n  }\n\n  return (\n    <div className=\"SignupForm\">\n      <div className=\"container\">\n        <h2 className=\"mb-3\">Sign Up</h2>\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"form-group\">\n                <label>Username</label>\n                <input\n                  name=\"username\"\n                  className=\"form-control\"\n                  value={formData.username}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  className=\"form-control\"\n                  value={formData.password}\n                  onChange={handleChange}\n                />\n              </div>\n\n              {formErrors.length ? (\n                <Alert type=\"danger\" messages={formErrors} />\n              ) : null}\n\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary\"\n                onSubmit={handleSubmit}\n              >\n                Sign up\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignupForm;\n","import React from 'react';\n\n// provides currentUser object and setter for it throughout app.\n\nconst UserContext = React.createContext();\n\nexport default UserContext;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Alert from '../common/Alert';\nimport BookAppApi from '../api';\n\nfunction LibraryForm() {\n  let navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    library_name: '',\n    library_desc: '',\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await BookAppApi.createLibrary(formData);\n    if (result) {\n      navigate('/libraries');\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData((l) => ({ ...l, [name]: value }));\n  }\n\n  return (\n    <div className=\"LibraryForm\">\n      <h3 className=\"mb-3\">Create New Library</h3>\n\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label>Name</label>\n              <input\n                name=\"library_name\"\n                className=\"form-control\"\n                value={formData.library_name}\n                onChange={handleChange}\n                autoComplete=\"library-name\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Description</label>\n              <input\n                name=\"library_desc\"\n                className=\"form-control\"\n                value={formData.library_desc}\n                onChange={handleChange}\n                autoComplete=\"library-desc\"\n                required\n              />\n            </div>\n\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Create New Library\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default LibraryForm;\n","import React, { useState, useEffect, useContext } from 'react';\nimport UserContext from '../auth/UserContext';\nimport BookAppApi from '../api';\nimport { useNavigate } from 'react-router-dom';\n\nfunction AddBook({ book_id }) {\n  const [libraries, setLibraries] = useState(null);\n  const { currentUser } = useContext(UserContext);\n  const [form, updateForm] = useState({\n    id: '',\n    title: '',\n  });\n  let navigate = useNavigate();\n\n  useEffect(function getLibraryList() {\n    async function getLibraries() {\n      setLibraries(await BookAppApi.getLibraries(currentUser.user_id));\n    }\n    getLibraries();\n  }, []);\n\n  let libsList = [];\n\n  if (libraries) {\n    for (let i = 0; i < libraries.length; i++) {\n      let libId = libraries[i].library_id;\n      let libTitle = libraries[i].library_name;\n      let libObj = {\n        id: libId,\n        title: libTitle,\n      };\n      libsList.push(libObj);\n    }\n  }\n\n  function handleChange(e) {\n    e.persist();\n    updateForm((f) => ({ ...f, [e.target.name]: e.target.value }));\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const libId = e.target.id.value;\n\n    if (form) {\n      try {\n        handleChange(e);\n        await BookAppApi.addBooktoLib(+libId, {\n          user_id: currentUser.user_id,\n          book_id: book_id,\n        });\n        navigate(`/library/${libId}`); //temporary redirect}\n      } catch (error) {\n        console.log(error);\n        return;\n      }\n    }\n  }\n\n  // useState for a success message once user successfully adds\n  // book to library...\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <select id=\"id\" name=\"id\">\n            {libsList.map((l) => (\n              <option key={l.id} value={l.id}>\n                {l.title}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <button className=\"btn btn-sm btn-primary\">Add Book</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddBook;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport UserContext from '../auth/UserContext';\nimport BookAppApi from '../api';\nimport AddBook from './AddBook';\n\nfunction Book() {\n  const { volId } = useParams();\n\n  const { currentUser } = useContext(UserContext);\n\n  const [book, setBook] = useState(null);\n\n  // const { hasAddedBookToLib, addBookToLib } = useState(null);\n\n  useEffect(\n    function getBookDetails() {\n      async function getBook() {\n        setBook(await BookAppApi.getBook(volId));\n      }\n      getBook();\n    },\n    [volId]\n  );\n\n  console.log(book);\n\n  const bookArr = [];\n  const bookAuthors = [];\n\n  if (book) {\n    let authorStr = book.book.author;\n    let newAuthorStr = authorStr.replace(/[\"{}']/g, '');\n    let splitAuthorStr = newAuthorStr.split(',');\n\n    let bookObj = {\n      title: book.book.title,\n      author: splitAuthorStr,\n      genre: book.book.genre,\n      desc: book.book.book_description,\n      img: book.book.cover_img,\n      id: book.book.book_id,\n      extId: book.book.external_book_id,\n    };\n    bookArr.push(bookObj);\n    bookAuthors.push(bookObj.author);\n  }\n\n  if (!book) return;\n\n  //need to fix book cover image...\n  // <div>\n  //   <img src={bookArr[0].img} alt=\"\" />\n  // </div>;\n\n  return (\n    <div>\n      {bookArr ? (\n        <div>\n          <h2>{bookArr[0].title}</h2>\n          <div>\n            <h3>By:</h3>\n            {bookAuthors[0].map((a) => (\n              <h3 key={a}>{a}</h3>\n            ))}\n          </div>\n          <p>\n            {bookArr[0].genre ? [...bookArr[0].genre] : 'Genre not listed.'}\n          </p>\n          <p>\n            {bookArr[0].desc\n              ? [...bookArr[0].desc]\n              : 'No description available.'}\n          </p>\n        </div>\n      ) : (\n        <p>Book not found</p>\n      )}\n      <div>\n        <AddBook book_id={bookArr[0].id} />\n      </div>\n    </div>\n  );\n}\n\nexport default Book;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport UserContext from '../auth/UserContext';\nimport BookAppApi from '../api';\nimport { useNavigate } from 'react-router-dom';\n\nimport './Rating.css';\n\nfunction Rating({ currRating, book_id, library_id }) {\n  const [rating, setRating] = useState(0);\n  const { currentUser } = useContext(UserContext);\n\n  const user_id = currentUser.user_id;\n\n  useEffect(function getRatingOnMount() {\n    if (currRating !== null) {\n      setRating(currRating);\n    }\n  }, []);\n\n  function handleChange(e) {\n    e.persist();\n\n    setRating((r) => ({ ...r, [e.target.id]: e.target.id }));\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    let bookRating = e.target.id;\n\n    if (bookRating) {\n      try {\n        handleChange(e);\n        await BookAppApi.updateBookRating({\n          user_id: user_id,\n          library_id: +library_id,\n          book_id: book_id,\n          rating: +bookRating,\n        });\n        setRating(+bookRating);\n      } catch (error) {\n        console.log(error);\n        return;\n      }\n    }\n  }\n\n  return (\n    <div className=\"star-rating\">\n      {[...Array(5)].map((star, index) => {\n        index += 1;\n        return (\n          <button\n            type=\"button\"\n            key={index}\n            className={index <= rating ? 'on' : 'off'}\n            onClick={handleSubmit}\n            id={index}\n          >\n            <span className=\"star\" id={index}>\n              &#9733;\n            </span>\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Rating;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport BookAppApi from '../api';\nimport UserContext from '../auth/UserContext';\nimport Book from '../books/Book';\nimport Rating from './Rating';\nimport './Library.css';\n\nfunction Library() {\n  const { currentUser } = useContext(UserContext);\n\n  const [books, setBooks] = useState(null);\n\n  const { library_id } = useParams();\n\n  useEffect(function getBooks() {\n    async function getBook() {\n      let books = await BookAppApi.getBooksFromLib(library_id);\n      setBooks(books);\n    }\n    getBook();\n  }, []);\n\n  const booksList = [];\n  let bookAuthors = [];\n\n  if (books) {\n    for (let i = 0; i < books.length; i++) {\n      let bookId = books[i].book_id;\n      let bookTitle = books[i].title;\n      let bookAuthor = books[i].author;\n      let extBookId = books[i].external_book_id;\n      let rating = books[i].user_rating;\n      let bookObj = {\n        id: bookId,\n        title: bookTitle,\n        extBookId: extBookId,\n        author: bookAuthor,\n        rating: rating,\n      };\n      booksList.push(bookObj);\n    }\n  }\n\n  if (!books) return;\n\n  //<p>By: {b.author}</p>\n\n  return (\n    <div className=\"LibBookList\">\n      {books ? (\n        <div className=\"BookList-results\">\n          <ul>\n            {booksList.map((b) => (\n              <li key={b.id}>\n                <Link to={`/getbook/${b.extBookId}`}>{b.title}</Link>\n                <Rating\n                  currRating={b.rating}\n                  book_id={b.id}\n                  library_id={library_id}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <p>No results</p>\n      )}\n    </div>\n  );\n}\n\nexport default Library;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport BookAppApi from '../api';\nimport UserContext from '../auth/UserContext';\nimport Library from './Library';\nimport LibraryForm from './LibraryForm';\nimport './LibraryList.css';\n\nfunction LibraryList() {\n  const [libraries, setLibraries] = useState(null);\n  const { currentUser } = useContext(UserContext);\n\n  useEffect(function getLibraryList() {\n    async function getLibraries() {\n      setLibraries(await BookAppApi.getLibraries(currentUser.user_id));\n    }\n    getLibraries();\n  }, []);\n\n  let libsList = [];\n\n  if (libraries) {\n    for (let i = 0; i < libraries.length; i++) {\n      let libId = libraries[i].library_id;\n      let libTitle = libraries[i].library_name;\n      let libDesc = libraries[i].library_desc;\n      let libObj = {\n        id: libId,\n        title: libTitle,\n        desc: libDesc,\n      };\n      libsList.push(libObj);\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"LibsList\">\n        {libraries ? (\n          <div className=\"LibList-results\">\n            <ul>\n              {libsList.map((l) => (\n                <li key={l.id}>\n                  <Link to={`/library/${l.id}`}> {l.title}</Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        ) : (\n          <p>No results</p>\n        )}\n      </div>\n      <div>\n        <Link to={`/newlibrary`}>Create a New Library</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default LibraryList;\n","import React, { useContext } from 'react';\nimport BookAppApi from './api';\nimport LoginForm from './auth/LoginForm';\nimport SignupForm from './auth/SignupForm';\nimport UserContext from './auth/UserContext';\nimport { Link } from 'react-router-dom';\nimport LibraryForm from './libraries/LibraryForm';\nimport LibraryList from './libraries/LibraryList';\n\nfunction Homepage({ login, signup }) {\n  const { currentUser } = useContext(UserContext);\n\n  return (\n    <div className=\"Homepage\">\n      <div className=\"container text-center\">\n        {currentUser ? (\n          <h2>Welcome Back, {currentUser.username}!</h2>\n        ) : (\n          <p>\n            <Link className=\"btn btn-primary\" to=\"/login\">\n              Log in\n            </Link>\n            <Link className=\"btn btn-primary\" to=\"/signup\">\n              Sign up\n            </Link>\n          </p>\n        )}\n      </div>\n      <div>\n        <LoginForm login={login} />\n      </div>\n      <div>\n        <SignupForm signup={signup} />\n      </div>\n    </div>\n  );\n}\n\nexport default Homepage;\n","import React, { useState } from 'react';\n\nfunction SearchForm({ searchFor }) {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    searchFor(searchTerm.trim() || undefined);\n    setSearchTerm(searchTerm.trim());\n  }\n\n  function handleChange(evt) {\n    setSearchTerm(evt.target.value);\n  }\n\n  return (\n    <div className=\"SearchForm\">\n      <form className=\"form-inline\" onSubmit={handleSubmit}>\n        <input\n          name=\"searchTerm\"\n          placeholder=\"Enter search term here\"\n          value={searchTerm}\n          onChange={handleChange}\n        />\n        <button type=\"submit\" className=\"btn btn-sm btn-primary\">\n          Search\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default SearchForm;\n","import React, { useState, useEffect } from 'react';\nimport BookAppApi from '../api';\nimport Book from './Book';\nimport SearchForm from '../common/SearchForm';\nimport { Link } from 'react-router-dom';\nimport './BookList.css';\n\nfunction BookList() {\n  const [books, setBooks] = useState(null);\n\n  useEffect(function getBooks() {\n    search();\n  }, []);\n\n  async function search(searchStr) {\n    let books = null;\n    if (searchStr !== undefined) {\n      books = await BookAppApi.getBookList(searchStr);\n    }\n    setBooks(books);\n  }\n\n  let bookInfo = [];\n\n  if (books) {\n    for (let i = 0; i < books.results.length; i++) {\n      let bookTitle = books.results[i].book_title;\n      let bookId = books.results[i].external_book_id;\n      let bookObj = {\n        title: bookTitle,\n        id: bookId,\n      };\n\n      bookInfo.push(bookObj);\n    }\n  }\n\n  return (\n    <div className=\"BookList\">\n      <SearchForm searchFor={search} />\n\n      {books ? (\n        <div className=\"BookList-results\">\n          <ul>\n            {bookInfo.map((b) => (\n              <li key={b.id}>\n                {b.title}\n                <Link to={`/getbook/${b.id}`}>View book details</Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <p>No results</p>\n      )}\n    </div>\n  );\n}\n\nexport default BookList;\n","import React from 'react';\nimport { Routes, Route, Redirect } from 'react-router-dom';\nimport Homepage from '../Homepage';\nimport BookList from '../books/BookList';\nimport Book from '../books/Book';\nimport LibraryList from '../libraries/LibraryList';\nimport LibraryForm from '../libraries/LibraryForm';\nimport Library from '../libraries/Library';\n\nfunction NavRoutes({ login, signup }) {\n  return (\n    <div>\n      <Routes>\n        <Route\n          exact\n          path=\"/\"\n          element={<Homepage login={login} signup={signup} />}\n        />\n        <Route exact path=\"/getbook/:volId\" element={<Book />} />\n        <Route exact path=\"/getbooklist\" element={<BookList />} />\n        <Route exact path=\"/libraries/\" element={<LibraryList />} />\n        <Route exact path=\"/newlibrary/\" element={<LibraryForm />} />\n        <Route exact path=\"/library/:library_id\" element={<Library />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default NavRoutes;\n","import { useState, useEffect } from 'react';\n\nfunction useLocalStorage(key, firstValue = null) {\n  const initialValue = localStorage.getItem(key) || firstValue;\n\n  const [item, setItem] = useState(initialValue);\n\n  useEffect(\n    function setKeyInLocalStorage() {\n      if (item === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, item);\n      }\n    },\n    [key, item]\n  );\n\n  return [item, setItem];\n}\n\nexport default useLocalStorage;\n","import React, { useContext } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport UserContext from '../auth/UserContext';\n\nfunction Navigation({ logout }) {\n  const { currentUser } = useContext(UserContext);\n\n  function loggedInNav() {\n    return (\n      <ul className=\"navbar-nav\">\n        <li className=\"navbar-item\">\n          <NavLink className=\"nav-link\" to=\"/getbooklist\">\n            Search\n          </NavLink>\n        </li>\n        <li className=\"navbar-item\">\n          <NavLink className=\"nav-link\" to=\"/libraries\">\n            Your Libraries\n          </NavLink>\n        </li>\n        <li className=\"navbar-item\">\n          <Link className=\"nav-link\" to=\"/\" onClick={logout}>\n            Log out\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  function loggedOutNav() {\n    return (\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\">\n          <NavLink className=\"nav-link\" to=\"/login\">\n            Log In\n          </NavLink>\n        </li>\n        <li className=\"nav-item\">\n          <NavLink className=\"nav-link\" to=\"/signup\">\n            Sign Up\n          </NavLink>\n        </li>\n      </ul>\n    );\n  }\n\n  return (\n    <nav className=\"Navigation navbar\">\n      <Link className=\"navbar-a\" to=\"/\">\n        Home\n      </Link>\n      {currentUser ? loggedInNav() : loggedOutNav()}\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React, { useState, useEffect } from 'react';\nimport BookAppApi from './api';\nimport Homepage from './Homepage';\nimport Book from './books/Book';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport NavRoutes from './routes-nav/NavRoutes';\nimport useLocalStorage from './hooks/useLocalStorage';\nimport jwt from 'jsonwebtoken';\nimport UserContext from './auth/UserContext';\nimport Navigation from './routes-nav/Navigation';\n\nimport './App.css';\n\nexport const TOKEN_STORAGE_ID = 'bookapp-token';\n\nfunction App() {\n  const [infoLoaded, setInfoLoaded] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [token, setToken] = useLocalStorage(TOKEN_STORAGE_ID);\n\n  useEffect(\n    function loadUserInfo() {\n      async function getCurrentUser() {\n        if (token) {\n          try {\n            let { username } = jwt.decode(token);\n            BookAppApi.token = token;\n            let currentUser = await BookAppApi.getCurrentUser(username);\n            setCurrentUser(currentUser);\n          } catch (err) {\n            console.error('App loadUserInfo: problem loading', err);\n            setCurrentUser(null);\n          }\n        }\n        setInfoLoaded(true);\n      }\n      setInfoLoaded(false);\n      getCurrentUser();\n    },\n    [token]\n  );\n\n  async function signup(signupData) {\n    try {\n      let token = await BookAppApi.signup(signupData);\n      setToken(token);\n      return { success: true };\n    } catch (errors) {\n      console.error('signup failed', errors);\n      return { success: false, errors };\n    }\n  }\n\n  function logout() {\n    setCurrentUser(null);\n    setToken(null);\n  }\n\n  async function login(loginData) {\n    try {\n      let token = await BookAppApi.login(loginData);\n      setToken(token);\n      return { success: true };\n    } catch (errors) {\n      console.error('login failed', errors);\n      return { success: false, errors };\n    }\n  }\n\n  if (!infoLoaded) return;\n\n  return (\n    <UserContext.Provider value={{ currentUser, setCurrentUser }}>\n      <div className=\"App\">\n        <Navigation logout={logout} />\n        <NavRoutes login={login} signup={signup} />\n      </div>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}